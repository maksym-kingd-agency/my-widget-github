{"version":3,"file":"../pages/embed/search-section.js","mappings":"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","sources":["webpack:///pages/embed/search-section.tsx","webpack:///sentry-wrapper-module","webpack:///../../node_modules/@swc/helpers/lib/_interop_require_default.js","webpack:///../../node_modules/next/font/google/target.css","webpack:///../../node_modules/react-date-range/dist/styles.css","webpack:///../../node_modules/swiper/swiper.css","webpack:///external commonjs \"@king-david-it/builder\"","webpack:///external commonjs \"@mui/material\"","webpack:///external commonjs \"@mui/material/styles\"","webpack:///external commonjs \"@mui/system\"","webpack:///external commonjs \"@sentry/nextjs\"","webpack:///external commonjs \"axios\"","webpack:///external commonjs \"cookies-next\"","webpack:///external commonjs \"date-fns\"","webpack:///external commonjs \"date-fns/format\"","webpack:///external commonjs \"date-fns/isValid\"","webpack:///external commonjs \"date-fns/locale\"","webpack:///external commonjs \"lodash/cloneDeep\"","webpack:///external commonjs \"lodash/debounce\"","webpack:///external commonjs \"lodash/differenceBy\"","webpack:///external commonjs \"lodash/get\"","webpack:///external commonjs \"lodash/isEmpty\"","webpack:///external commonjs \"lodash/isEqual\"","webpack:///external commonjs \"lodash/isUndefined\"","webpack:///external commonjs \"lodash/mapValues\"","webpack:///external commonjs \"lodash/max\"","webpack:///external commonjs \"lodash/merge\"","webpack:///external commonjs \"lodash/min\"","webpack:///external commonjs \"lodash/noop\"","webpack:///external commonjs \"lodash/omit\"","webpack:///external commonjs \"lodash/omitBy\"","webpack:///external commonjs \"lodash/set\"","webpack:///external commonjs \"next-i18next\"","webpack:///external commonjs \"next-i18next/serverSideTranslations\"","webpack:///external commonjs \"next/dist/shared/lib/app-router-context.js\"","webpack:///external commonjs \"next/dist/shared/lib/i18n/detect-domain-locale.js\"","webpack:///external commonjs \"next/dist/shared/lib/i18n/normalize-locale-path.js\"","webpack:///external commonjs \"next/dist/shared/lib/router-context.js\"","webpack:///external commonjs \"next/dist/shared/lib/router/utils/add-locale.js\"","webpack:///external commonjs \"next/dist/shared/lib/router/utils/add-path-prefix.js\"","webpack:///external commonjs \"next/dist/shared/lib/router/utils/format-url.js\"","webpack:///external commonjs \"next/dist/shared/lib/router/utils/is-local-url.js\"","webpack:///external commonjs \"next/dist/shared/lib/router/utils/parse-path.js\"","webpack:///external commonjs \"next/dist/shared/lib/router/utils/remove-trailing-slash.js\"","webpack:///external commonjs \"next/dist/shared/lib/router/utils/resolve-href.js\"","webpack:///external commonjs \"next/dist/shared/lib/utils.js\"","webpack:///external commonjs \"next/router\"","webpack:///external commonjs \"notistack\"","webpack:///external commonjs \"qs\"","webpack:///external commonjs \"react\"","webpack:///external commonjs \"react-date-range\"","webpack:///external commonjs \"react-device-detect\"","webpack:///external commonjs \"react-dom\"","webpack:///external commonjs \"react/jsx-runtime\"","webpack:///external commonjs \"zod-i18n-map\"","webpack:///external module \"@hookform/resolvers/zod\"","webpack:///external module \"@tanstack/react-query\"","webpack:///external module \"clsx\"","webpack:///external module \"react-hook-form\"","webpack:///external module \"zod\""],"sourcesContent":["import { useCallback } from 'react';\nimport ReactDOM from 'react-dom';\n\nimport { isBrowser } from '@packages/helpers';\nimport { SEARCH_ROUTE } from 'application/constants';\nimport Button, { ButtonProps } from 'buttons/Button';\nimport { SearchListingsForm, SearchListingsFormProps } from 'components/forms/SearchListingsForm';\nimport { useLocaleContext } from 'contexts/LocaleContext';\nimport { withServerSideProps } from 'helpers/withServerSideProps';\nimport { prefetchLocales } from 'hooks/queries/useGetLocales';\nimport useGetPopularCities, { prefetchPopularCities } from 'hooks/queries/useGetPopularCities';\nimport { omitBy } from 'lodash';\nimport { NextPage } from 'next';\nimport { stringify } from 'qs';\n\nconst SearchSectionWidget: NextPage = () => {\n  const { data: popularCitiesData = [] } = useGetPopularCities();\n  const origin = isBrowser && window.location.origin ? window.location.origin : '';\n  const { locale } = useLocaleContext();\n\n  const handleFormSubmit = useCallback<\n    NonNullable<SearchListingsFormProps<ButtonProps>['onSubmit']>\n  >(\n    (values) => {\n      const { checkin_at, checkout_at, city: cityValue, accommodates } = values;\n\n      const selectedPopularCity = popularCitiesData.find((city) => city.slug === cityValue);\n\n      const filter = {\n        city: cityValue,\n        checkin_at,\n        checkout_at,\n        accommodates,\n        country: selectedPopularCity?.country?.code,\n        state: selectedPopularCity?.state?.code,\n      };\n\n      const query = omitBy(filter, (value) => !value);\n\n      /**\n       * We redirect to the new page when using component like a emdedded widget\n       */\n      if (origin) {\n        const searchParams = stringify(query);\n        const openUrl = `${origin}/${locale}/${SEARCH_ROUTE}?${searchParams.toString()}`;\n        window.open(openUrl, '_blank');\n      }\n    },\n    [locale, origin, popularCitiesData],\n  );\n  return (\n    <SearchListingsForm\n      onSubmit={handleFormSubmit}\n      slots={{ actionButton: Button }}\n      slotProps={{\n        actionButton: { children: 'buttons.search', variant: 'contained' },\n      }}\n    />\n  );\n};\n\nsetTimeout(() => {\n  const element = document.getElementById('my-section-root');\n  ReactDOM.render(<SearchSectionWidget />, element);\n}, 4000);\n\nexport default SearchSectionWidget;\n\nexport const getServerSideProps = withServerSideProps({\n  fetchers: [prefetchPopularCities, prefetchLocales],\n});\n","import * as Sentry from '@sentry/nextjs';\nimport * as serverComponentModule from '__SENTRY_WRAPPING_TARGET_FILE__.cjs';\nexport * from '__SENTRY_WRAPPING_TARGET_FILE__.cjs';\n\n/*\n * This file is a template for the code which will be substituted when our webpack loader handles non-API files in the\n * `pages/` directory.\n *\n * We use `__SENTRY_WRAPPING_TARGET_FILE__.cjs` as a placeholder for the path to the file being wrapped. Because it's not a real package,\n * this causes both TS and ESLint to complain, hence the pragma comments below.\n */\n\nconst userPageModule = serverComponentModule ;\n\nconst pageComponent = userPageModule ? userPageModule.default : undefined;\n\nconst origGetInitialProps = pageComponent ? pageComponent.getInitialProps : undefined;\nconst origGetStaticProps = userPageModule ? userPageModule.getStaticProps : undefined;\nconst origGetServerSideProps = userPageModule ? userPageModule.getServerSideProps : undefined;\n\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nconst getInitialPropsWrappers = {\n  '/_app': Sentry.wrapAppGetInitialPropsWithSentry,\n  '/_document': Sentry.wrapDocumentGetInitialPropsWithSentry,\n  '/_error': Sentry.wrapErrorGetInitialPropsWithSentry,\n};\n\nconst getInitialPropsWrapper = getInitialPropsWrappers['/embed/search-section'] || Sentry.wrapGetInitialPropsWithSentry;\n\nif (pageComponent && typeof origGetInitialProps === 'function') {\n  pageComponent.getInitialProps = getInitialPropsWrapper(origGetInitialProps) ;\n}\n\nconst getStaticProps =\n  typeof origGetStaticProps === 'function'\n    ? Sentry.wrapGetStaticPropsWithSentry(origGetStaticProps, '/embed/search-section')\n    : undefined;\nconst getServerSideProps =\n  typeof origGetServerSideProps === 'function'\n    ? Sentry.wrapGetServerSidePropsWithSentry(origGetServerSideProps, '/embed/search-section')\n    : undefined;\n\nconst pageWrapperTemplate = pageComponent ? Sentry.wrapPageComponentWithSentry(pageComponent ) : pageComponent;\n\nexport { pageWrapperTemplate as default, getServerSideProps, getStaticProps };\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nObject.defineProperty(exports, \"default\", {\n    enumerable: true,\n    get: function() {\n        return _interopRequireDefault;\n    }\n});\nfunction _interopRequireDefault(obj) {\n    return obj && obj.__esModule ? obj : {\n        default: obj\n    };\n}\n","// Exports\nmodule.exports = {\n\t\"style\": {\"fontFamily\":\"'__Plus_Jakarta_Sans_834aed', '__Plus_Jakarta_Sans_Fallback_834aed', sans-serif\",\"fontStyle\":\"normal\"},\n\t\"className\": \"__className_834aed\"\n};\n","","","module.exports = require(\"@king-david-it/builder\");","module.exports = require(\"@mui/material\");","module.exports = require(\"@mui/material/styles\");","module.exports = require(\"@mui/system\");","module.exports = require(\"@sentry/nextjs\");","module.exports = require(\"axios\");","module.exports = require(\"cookies-next\");","module.exports = require(\"date-fns\");","module.exports = require(\"date-fns/format\");","module.exports = require(\"date-fns/isValid\");","module.exports = require(\"date-fns/locale\");","module.exports = require(\"lodash/cloneDeep\");","module.exports = require(\"lodash/debounce\");","module.exports = require(\"lodash/differenceBy\");","module.exports = require(\"lodash/get\");","module.exports = require(\"lodash/isEmpty\");","module.exports = require(\"lodash/isEqual\");","module.exports = require(\"lodash/isUndefined\");","module.exports = require(\"lodash/mapValues\");","module.exports = require(\"lodash/max\");","module.exports = require(\"lodash/merge\");","module.exports = require(\"lodash/min\");","module.exports = require(\"lodash/noop\");","module.exports = require(\"lodash/omit\");","module.exports = require(\"lodash/omitBy\");","module.exports = require(\"lodash/set\");","module.exports = require(\"next-i18next\");","module.exports = require(\"next-i18next/serverSideTranslations\");","module.exports = require(\"next/dist/shared/lib/app-router-context.js\");","module.exports = require(\"next/dist/shared/lib/i18n/detect-domain-locale.js\");","module.exports = require(\"next/dist/shared/lib/i18n/normalize-locale-path.js\");","module.exports = require(\"next/dist/shared/lib/router-context.js\");","module.exports = require(\"next/dist/shared/lib/router/utils/add-locale.js\");","module.exports = require(\"next/dist/shared/lib/router/utils/add-path-prefix.js\");","module.exports = require(\"next/dist/shared/lib/router/utils/format-url.js\");","module.exports = require(\"next/dist/shared/lib/router/utils/is-local-url.js\");","module.exports = require(\"next/dist/shared/lib/router/utils/parse-path.js\");","module.exports = require(\"next/dist/shared/lib/router/utils/remove-trailing-slash.js\");","module.exports = require(\"next/dist/shared/lib/router/utils/resolve-href.js\");","module.exports = require(\"next/dist/shared/lib/utils.js\");","module.exports = require(\"next/router\");","module.exports = require(\"notistack\");","module.exports = require(\"qs\");","module.exports = require(\"react\");","module.exports = require(\"react-date-range\");","module.exports = require(\"react-device-detect\");","module.exports = require(\"react-dom\");","module.exports = require(\"react/jsx-runtime\");","module.exports = require(\"zod-i18n-map\");","module.exports = import(\"@hookform/resolvers/zod\");;","module.exports = import(\"@tanstack/react-query\");;","module.exports = import(\"clsx\");;","module.exports = import(\"react-hook-form\");;","module.exports = import(\"zod\");;"],"names":["SearchSectionWidget","data","popularCitiesData","useGetPopularCities","origin","isBrowser","window","location","locale","useLocaleContext","handleFormSubmit","useCallback","values","checkin_at","checkout_at","city","cityValue","accommodates","selectedPopularCity","find","slug","filter","country","code","state","query","omitBy","value","searchParams","stringify","openUrl","SEARCH_ROUTE","toString","open","_jsx","SearchListingsForm","onSubmit","slots","actionButton","Button","slotProps","children","variant","setTimeout","element","document","getElementById","ReactDOM","render","getServerSideProps","withServerSideProps","fetchers","prefetchPopularCities","prefetchLocales"],"sourceRoot":""}